<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="utf-8">
    <title>JSON</title>
    <script src="script.js"></script>
    <link rel="stylesheet" type="text/css" href="main.css">

</head>

<body onload="favoriteThings()">
    <h1>JSON Parse, Stringify</h1>
    <ul>
        <li>JSON stands for JavaScript Object Notation</li>
        <li>Format for storing and transfering data</li>
        <li>Often used when data is send from server to webpage.</li>
        <li> Objects and arrays nested inside of one another. Many objects in an array.</li>
    </ul>

    <h2>Rules for JSON Syntax</h2>
    <ul>
        <li>Data is in name/value pairs</li>
        <li>Data is seperated by commas</li>
        <li>Curly braces hold objects</li>
        <li>Square brackets hold arrays</li>
        <li>JSON names require double quotes</li>
    </ul>

    <!----JSON Parse----->
    <h2>JSON.parse()</h2>
    <ul>
        <li>Takes JSON string and transforms it into an JavaScript Object</li>
        <li>This is useful because then you can access JSON data like a normal object.</li>
        <li>This makes it easy to retrieve and display larger amounts of information.</li>
    </ul>
    <p>Here is a JSON file I created with characters from The Lord of Rings.</p>
    <p>[ { "name": "Frodo", "race": "hobbit", "facts": { "likes": [ "reading", "disappearing" ], "dislikes": [ "people wanting ring", "spiders" ] } }, { "name": "Gandolf", "race": "wizard", "facts": { "likes": [ "eagles", "pipes" ], "dislikes": [ "being grey all the time" ] } }, { "name": "Legolas", "race": "elf", "facts": { "likes": [ "bows" ], "dislikes": [ "orcs" ] } } ]
    </p>

    <!----JSON Parse Code----->
    <div class="code">function retrieveData() {<br /> var request = new XMLHttpRequest();<br />request.open('GET', 'https://bichsel-rachel.github.io/classes/cit261/ajax/lor.json', true);<br /> request.onload = function() { <b>var characters = JSON.parse(request.responseText);</b><br /> console.log(characters); <br />displayData(characters); <br />request.send();<br /> displayData(request); <br />}

    </div>

    <p>After parsing, I can now access the JSON file and display it in sentences. This is the for loop I used to retrieve and display the information:</p>

    <p>For example, I can access the name of a character, say Frodo by this: characters[0].name </p>

    <!----JSON Parse Example----->
    <button onclick="retrieveData()">Parse the JSON file</button>
    <div id="display"></div>

    <!----JSON Stringify---->
    <h2>JSON.stringify()</h2>
    <ul>
        <li>Takes JavaScript object and transforms into JSON string</li>
        <li>In the examle below, take note that it turned all the keys into strings.</li>
        <li>Cannot access specific JSON information. You would need to parse the string to access individual information.</li>
    </ul>
    <p>This function runs when the page loads.</p>

    <!----JSON Stringify Code---->
    <div class="code">function favoriteThings() {<br /> var fav = {color: "purple", food: "shrimp", holidy: "Halloween", book: "Misborn"};<br />
        <b>var intoJSON = JSON.stringify(fav);</b><br /> document.getElementById("favorite").innerHTML = intoJSON; }
    </div>

    <!----JSON Example---->
    <p>The output of the code is:</p>
    <div id="favorite"></div>

    <footer>
        <a href="../index.html">Back to Assignments</a>
    </footer>
</body>

</html>
